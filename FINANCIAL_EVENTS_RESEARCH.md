# ä¸ªè‚¡äº‹ä»¶æ—¥å†ä¸è´¢æŠ¥æ•°æ®æºè°ƒç ”æŠ¥å‘Š

æœ¬æ–‡æ¡£è°ƒç ”äº†ä¸ªè‚¡äº‹ä»¶æ—¥å†ï¼ˆåŒ…æ‹¬è´¢æŠ¥å‘å¸ƒå’Œå¼‚åŠ¨é¢„å‘Šï¼‰ä»¥åŠè´¢æŠ¥æ•°æ®è·å–æ¸ é“ï¼Œä¸º AK Unified é¡¹ç›®æä¾›æ•°æ®æºé€‰æ‹©å»ºè®®ã€‚

## ğŸ“… äº‹ä»¶æ—¥å†æ•°æ®æº

### 1. è´¢æŠ¥å‘å¸ƒæ—¥å†

#### 1.1 å›½å†… A è‚¡è´¢æŠ¥æ—¥å†

**æ•°æ®æºï¼šä¸œæ–¹è´¢å¯Œ (EastMoney)**
- **æ¥å£**: `akshare.stock_financial_report_em`
- **æ•°æ®å†…å®¹**: 
  - æŠ¥å‘ŠæœŸã€æŠ¥å‘Šç±»å‹ï¼ˆå¹´æŠ¥/ä¸­æŠ¥/å­£æŠ¥ï¼‰
  - å…¬å¸ä»£ç ã€å…¬å¸åç§°
  - é¢„çº¦æŠ«éœ²æ—¥æœŸã€å®é™…æŠ«éœ²æ—¥æœŸ
  - æ¯è‚¡æ”¶ç›Šã€å‡€åˆ©æ¶¦ç­‰å…³é”®æŒ‡æ ‡
- **æ›´æ–°é¢‘ç‡**: å®æ—¶
- **è¦†ç›–èŒƒå›´**: Aè‚¡å…¨å¸‚åœº

**æ•°æ®æºï¼šæ–°æµªè´¢ç» (Sina)**
- **æ¥å£**: `akshare.stock_financial_report_sina`
- **æ•°æ®å†…å®¹**: è´¢æŠ¥é¢„çº¦æŠ«éœ²æ—¶é—´è¡¨
- **ç‰¹ç‚¹**: æ•°æ®å‡†ç¡®ï¼Œæ›´æ–°åŠæ—¶

**æ•°æ®æºï¼šå·¨æ½®èµ„è®¯ç½‘**
- **æ¥å£**: `akshare.stock_financial_report_em`
- **æ•°æ®å†…å®¹**: å®˜æ–¹æŠ«éœ²ä¿¡æ¯ï¼Œæƒå¨æ€§é«˜
- **è¦†ç›–**: æ·±äº¤æ‰€ã€ä¸Šäº¤æ‰€ã€åŒ—äº¤æ‰€

#### 1.2 æ¸¯è‚¡è´¢æŠ¥æ—¥å†

**æ•°æ®æºï¼šä¸œæ–¹è´¢å¯Œ (EastMoney)**
- **æ¥å£**: `akshare.stock_financial_hk_report_em`
- **æ•°æ®å†…å®¹**: æ¸¯è‚¡ä¸‰å¤§è´¢åŠ¡æŠ¥è¡¨æ•°æ®
- **ç‰¹ç‚¹**: æ•°æ®å…¨é¢ï¼Œæ›´æ–°åŠæ—¶

**æ•°æ®æºï¼šç™¾åº¦è´¢ç»**
- **æ¥å£**: `akshare.news_report_time_baidu`
- **æ•°æ®å†…å®¹**: è´¢æŠ¥å‘è¡Œæ—¶é—´ä¿¡æ¯
- **ç‰¹ç‚¹**: ç™¾åº¦æ•´ç†çš„è´¢æŠ¥æ—¶é—´è¡¨

#### 1.3 ç¾è‚¡è´¢æŠ¥æ—¥å†

**æ•°æ®æºï¼šä¸œæ–¹è´¢å¯Œ (EastMoney)**
- **æ¥å£**: `akshare.stock_financial_us_report_em`
- **æ•°æ®å†…å®¹**: ç¾è‚¡ä¸‰å¤§è´¢åŠ¡æŠ¥è¡¨æ•°æ®
- **ç‰¹ç‚¹**: æ•°æ®æ ‡å‡†åŒ–ç¨‹åº¦é«˜

**æ•°æ®æºï¼šAlpha Vantage**
- **æ¥å£**: `EARNINGS_CALENDAR`
- **æ•°æ®å†…å®¹**: 
  - è´¢æŠ¥å‘å¸ƒæ—¥æœŸ
  - é¢„æœŸEPSã€å®é™…EPS
  - é¢„æœŸè¥æ”¶ã€å®é™…è¥æ”¶
- **é™åˆ¶**: å…è´¹ç‰ˆæœ‰APIè°ƒç”¨é™åˆ¶

**æ•°æ®æºï¼šYahoo Finance**
- **æ¥å£**: `yfinance.Ticker.earnings_dates`
- **æ•°æ®å†…å®¹**: å†å²è´¢æŠ¥æ—¥æœŸã€é¢„æœŸ/å®é™…æ•°æ®
- **ç‰¹ç‚¹**: å…è´¹ï¼Œæ•°æ®è¾ƒå…¨é¢

### 2. å¼‚åŠ¨é¢„å‘Šæ—¥å†

#### 2.1 ä¸šç»©é¢„å‘Š

**æ•°æ®æºï¼šä¸œæ–¹è´¢å¯Œ**
- **æ¥å£**: `akshare.stock_profit_forecast`
- **æ•°æ®å†…å®¹**: 
  - é¢„å‘Šç±»å‹ï¼ˆé¢„å¢/é¢„å‡/æ‰­äº/ç»­äºç­‰ï¼‰
  - é¢„å‘Šå‡€åˆ©æ¶¦å˜åŠ¨å¹…åº¦
  - é¢„å‘ŠåŸå› è¯´æ˜

**æ•°æ®æºï¼šå·¨æ½®èµ„è®¯ç½‘**
- **æ¥å£**: `akshare.stock_announcement_em`
- **æ•°æ®å†…å®¹**: ä¸šç»©é¢„å‘Šå…¬å‘Šå…¨æ–‡
- **ç‰¹ç‚¹**: å®˜æ–¹å…¬å‘Šï¼Œä¿¡æ¯å®Œæ•´

#### 2.2 é‡å¤§äº‹é¡¹é¢„å‘Š

**æ•°æ®æºï¼šä¸œæ–¹è´¢å¯Œ**
- **æ¥å£**: `akshare.stock_notice_report`
- **æ•°æ®å†…å®¹**: 
  - é‡å¤§äº‹é¡¹ç±»å‹
  - é¢„å‘Šæ—¥æœŸã€å®æ–½æ—¥æœŸ
  - äº‹é¡¹æè¿°

**æ•°æ®æºï¼šåŒèŠ±é¡º**
- **æ¥å£**: `akshare.stock_notice_report_ths`
- **æ•°æ®å†…å®¹**: åŒèŠ±é¡ºæ•´ç†çš„å¼‚åŠ¨é¢„å‘Š
- **ç‰¹ç‚¹**: åˆ†ç±»æ¸…æ™°ï¼Œä¾¿äºç­›é€‰

## ğŸ“Š è´¢æŠ¥æ•°æ®æº

### 1. è´¢åŠ¡æŒ‡æ ‡æ•°æ®

#### 1.1 åŸºç¡€è´¢åŠ¡æŒ‡æ ‡

**æ•°æ®æºï¼šä¸œæ–¹è´¢å¯Œ (Aè‚¡)**
- **æ¥å£**: `akshare.stock_financial_analysis_indicator`
- **æ•°æ®å†…å®¹**: 
  - ç›ˆåˆ©èƒ½åŠ›æŒ‡æ ‡ï¼ˆROEã€ROAã€æ¯›åˆ©ç‡ç­‰ï¼‰
  - æˆé•¿èƒ½åŠ›æŒ‡æ ‡ï¼ˆè¥æ”¶å¢é•¿ç‡ã€å‡€åˆ©æ¶¦å¢é•¿ç‡ç­‰ï¼‰
  - è¥è¿èƒ½åŠ›æŒ‡æ ‡ï¼ˆå­˜è´§å‘¨è½¬ç‡ã€åº”æ”¶è´¦æ¬¾å‘¨è½¬ç‡ç­‰ï¼‰
  - å¿å€ºèƒ½åŠ›æŒ‡æ ‡ï¼ˆèµ„äº§è´Ÿå€ºç‡ã€æµåŠ¨æ¯”ç‡ç­‰ï¼‰

**æ•°æ®æºï¼šä¸œæ–¹è´¢å¯Œ (æ¸¯è‚¡)**
- **æ¥å£**: `akshare.stock_financial_hk_analysis_indicator_em`
- **æ•°æ®å†…å®¹**: æ¸¯è‚¡è´¢åŠ¡åˆ†æä¸»è¦æŒ‡æ ‡
- **ç‰¹ç‚¹**: æ¸¯è‚¡ä¸“ç”¨ï¼ŒæŒ‡æ ‡è®¡ç®—æ ‡å‡†åŒ–

**æ•°æ®æºï¼šä¸œæ–¹è´¢å¯Œ (ç¾è‚¡)**
- **æ¥å£**: `akshare.stock_financial_us_analysis_indicator_em`
- **æ•°æ®å†…å®¹**: ç¾è‚¡è´¢åŠ¡åˆ†æä¸»è¦æŒ‡æ ‡
- **ç‰¹ç‚¹**: ç¾è‚¡ä¸“ç”¨ï¼ŒæŒ‡æ ‡è®¡ç®—æ ‡å‡†åŒ–

**æ•°æ®æºï¼šæ–°æµªè´¢ç»**
- **æ¥å£**: `akshare.stock_financial_analysis_indicator_sina`
- **æ•°æ®å†…å®¹**: æ–°æµªæ•´ç†çš„è´¢åŠ¡æŒ‡æ ‡
- **ç‰¹ç‚¹**: æŒ‡æ ‡è®¡ç®—æ ‡å‡†åŒ–

#### 1.2 è´¢åŠ¡æŠ¥è¡¨æ•°æ®

**æ•°æ®æºï¼šå·¨æ½®èµ„è®¯ç½‘ (Aè‚¡)**
- **æ¥å£**: `akshare.stock_financial_report_em`
- **æ•°æ®å†…å®¹**: 
  - èµ„äº§è´Ÿå€ºè¡¨
  - åˆ©æ¶¦è¡¨
  - ç°é‡‘æµé‡è¡¨
- **ç‰¹ç‚¹**: å®˜æ–¹æ•°æ®ï¼Œæƒå¨æ€§é«˜

**æ•°æ®æºï¼šä¸œæ–¹è´¢å¯Œ (æ¸¯è‚¡)**
- **æ¥å£**: `akshare.stock_financial_hk_report_em`
- **æ•°æ®å†…å®¹**: æ¸¯è‚¡ä¸‰å¤§è´¢åŠ¡æŠ¥è¡¨
- **ç‰¹ç‚¹**: æ¸¯è‚¡ä¸“ç”¨ï¼Œæ•°æ®å…¨é¢

**æ•°æ®æºï¼šä¸œæ–¹è´¢å¯Œ (ç¾è‚¡)**
- **æ¥å£**: `akshare.stock_financial_us_report_em`
- **æ•°æ®å†…å®¹**: ç¾è‚¡ä¸‰å¤§è´¢åŠ¡æŠ¥è¡¨
- **ç‰¹ç‚¹**: ç¾è‚¡ä¸“ç”¨ï¼Œæ•°æ®æ ‡å‡†åŒ–

**æ•°æ®æºï¼šä¸œæ–¹è´¢å¯Œ (Aè‚¡)**
- **æ¥å£**: `akshare.stock_financial_analysis_indicator`
- **æ•°æ®å†…å®¹**: ä¸‰å¤§æŠ¥è¡¨çš„è¯¦ç»†æ•°æ®
- **ç‰¹ç‚¹**: æ•°æ®å…¨é¢ï¼Œæ›´æ–°åŠæ—¶

### 2. ç¾è‚¡è´¢æŠ¥æ•°æ®

**æ•°æ®æºï¼šAlpha Vantage**
- **æ¥å£**: `INCOME_STATEMENT`, `BALANCE_SHEET`, `CASH_FLOW`
- **æ•°æ®å†…å®¹**: 
  - å®Œæ•´çš„è´¢åŠ¡æŠ¥è¡¨
  - å†å²æ•°æ®ï¼ˆæœ€å¤š20å¹´ï¼‰
  - æ ‡å‡†åŒ–æ ¼å¼
- **é™åˆ¶**: å…è´¹ç‰ˆæœ‰è°ƒç”¨é¢‘ç‡é™åˆ¶

**æ•°æ®æºï¼šYahoo Finance**
- **æ¥å£**: `yfinance.Ticker.financials`, `yfinance.Ticker.balance_sheet`
- **æ•°æ®å†…å®¹**: è´¢åŠ¡æŠ¥è¡¨æ•°æ®
- **ç‰¹ç‚¹**: å…è´¹ï¼Œæ•°æ®è¾ƒæ–°

## ğŸ¦ åŸºé‡‘æŒä»“å˜åŠ¨æ•°æ®æº

### 1. åŸºé‡‘æŒä»“æ•°æ®

**æ•°æ®æºï¼šä¸œæ–¹è´¢å¯Œ**
- **æ¥å£**: `akshare.fund_portfolio_hold_em`
- **æ•°æ®å†…å®¹**: 
  - åŸºé‡‘æŒä»“è‚¡ç¥¨æ˜ç»†
  - æŒä»“æ•°é‡ã€æŒä»“å¸‚å€¼ã€å å‡€å€¼æ¯”ä¾‹
  - æŒä»“å˜åŠ¨æƒ…å†µ
- **ç‰¹ç‚¹**: æ•°æ®å…¨é¢ï¼Œæ›´æ–°åŠæ—¶

**æ•°æ®æºï¼šå¤©å¤©åŸºé‡‘ç½‘**
- **æ¥å£**: `akshare.fund_portfolio_hold_em`
- **æ•°æ®å†…å®¹**: åŸºé‡‘æŒä»“ä¿¡æ¯
- **ç‰¹ç‚¹**: å®˜æ–¹æ•°æ®ï¼Œæƒå¨æ€§é«˜

### 2. åŸºé‡‘é‡ä»“è‚¡æ•°æ®

**æ•°æ®æºï¼šä¸œæ–¹è´¢å¯Œ**
- **æ¥å£**: `akshare.fund_portfolio_hold_em`
- **æ•°æ®å†…å®¹**: 
  - åŸºé‡‘é‡ä»“è‚¡ç¥¨æ’å
  - æŒä»“æ¯”ä¾‹ã€æŒä»“å¸‚å€¼
  - æŒä»“å˜åŠ¨è¶‹åŠ¿
- **ç‰¹ç‚¹**: ä¾¿äºåˆ†æåŸºé‡‘æŠ•èµ„åå¥½

### 3. åŸºé‡‘è°ƒä»“æ•°æ®

**æ•°æ®æºï¼šä¸œæ–¹è´¢å¯Œ**
- **æ¥å£**: `akshare.fund_portfolio_hold_em`
- **æ•°æ®å†…å®¹**: 
  - åŸºé‡‘è°ƒä»“è®°å½•
  - æ–°å¢æŒä»“ã€å‡ä»“è‚¡ç¥¨
  - è°ƒä»“æ—¶é—´ã€è°ƒä»“åŸå› 
- **ç‰¹ç‚¹**: è·Ÿè¸ªåŸºé‡‘æŠ•èµ„ç­–ç•¥å˜åŒ–

## ğŸ—ï¸ æŠ€æœ¯å®ç°æ–¹æ¡ˆ

### 1. æ•°æ®è·å–æ¶æ„

#### 1.1 åˆ†å±‚æ¶æ„è®¾è®¡
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           API å±‚                    â”‚
â”‚  (FastAPI endpoints)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           ä¸šåŠ¡é€»è¾‘å±‚                 â”‚
â”‚  (äº‹ä»¶æ—¥å†ç®¡ç†ã€è´¢æŠ¥åˆ†æ)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           æ•°æ®é€‚é…å±‚                 â”‚
â”‚  (AkShare, Alpha Vantage, etc.)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           æ•°æ®å­˜å‚¨å±‚                 â”‚
â”‚  (PostgreSQL + Redisç¼“å­˜)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 1.2 æ•°æ®æµè®¾è®¡
```
æ•°æ®æº â†’ é€‚é…å™¨ â†’ æ•°æ®æ¸…æ´— â†’ æ ‡å‡†åŒ– â†’ å­˜å‚¨ â†’ ç¼“å­˜ â†’ API
```

### 2. æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

#### 2.1 äº‹ä»¶æ—¥å†ç®¡ç†
- **è´¢æŠ¥æ—¥å†**: è·å–ã€æ›´æ–°ã€æŸ¥è¯¢è´¢æŠ¥å‘å¸ƒè®¡åˆ’
- **å¼‚åŠ¨é¢„å‘Š**: ä¸šç»©é¢„å‘Šã€é‡å¤§äº‹é¡¹é¢„å‘Šç®¡ç†
- **æé†’ç³»ç»Ÿ**: é‡è¦äº‹ä»¶ä¸´è¿‘æé†’

#### 2.2 è´¢æŠ¥æ•°æ®ç®¡ç†
- **è´¢åŠ¡æŒ‡æ ‡**: è·å–ã€è®¡ç®—ã€å­˜å‚¨å…³é”®è´¢åŠ¡æŒ‡æ ‡
- **æŠ¥è¡¨æ•°æ®**: ä¸‰å¤§æŠ¥è¡¨æ•°æ®çš„è·å–å’Œå­˜å‚¨
- **æ•°æ®åˆ†æ**: è´¢åŠ¡æŒ‡æ ‡è¶‹åŠ¿åˆ†æã€å¯¹æ¯”åˆ†æ

#### 2.3 åŸºé‡‘æŒä»“ç®¡ç†
- **æŒä»“æ•°æ®**: è·å–ã€æ›´æ–°ã€æŸ¥è¯¢åŸºé‡‘æŒä»“ä¿¡æ¯
- **è°ƒä»“åˆ†æ**: åˆ†æåŸºé‡‘æŠ•èµ„ç­–ç•¥å˜åŒ–
- **é‡ä»“è‚¡è·Ÿè¸ª**: è·Ÿè¸ªåŸºé‡‘é‡ä»“è‚¡ç¥¨å˜åŠ¨

#### 2.4 æ•°æ®åŒæ­¥ç­–ç•¥
- **å®æ—¶åŒæ­¥**: é‡è¦å…¬å‘Šå®æ—¶è·å–
- **å®šæ—¶åŒæ­¥**: å®šæœŸæ›´æ–°è´¢åŠ¡æ•°æ®
- **å¢é‡åŒæ­¥**: åªæ›´æ–°å˜åŒ–çš„æ•°æ®

## ğŸ“‹ å…·ä½“å®ç°å»ºè®®

### 1. æ–°å¢æ•°æ®æºé€‚é…å™¨

#### 1.1 è´¢æŠ¥æ—¥å†é€‚é…å™¨
```python
# src/ak_unified/adapters/earnings_calendar_adapter.py
class EarningsCalendarAdapter:
    async def get_earnings_calendar(self, market: str, start_date: str, end_date: str) -> pd.DataFrame:
        """è·å–è´¢æŠ¥æ—¥å†"""
        pass
    
    async def get_earnings_dates(self, symbol: str) -> pd.DataFrame:
        """è·å–ä¸ªè‚¡è´¢æŠ¥æ—¥æœŸ"""
        pass
```

#### 1.2 è´¢åŠ¡æ•°æ®é€‚é…å™¨
```python
# src/ak_unified/adapters/financial_data_adapter.py
class FinancialDataAdapter:
    async def get_financial_indicators(self, symbol: str, period: str) -> pd.DataFrame:
        """è·å–è´¢åŠ¡æŒ‡æ ‡"""
        pass
    
    async def get_financial_statements(self, symbol: str, statement_type: str) -> pd.DataFrame:
        """è·å–è´¢åŠ¡æŠ¥è¡¨"""
        pass
```

#### 1.3 åŸºé‡‘æŒä»“é€‚é…å™¨
```python
# src/ak_unified/adapters/fund_portfolio_adapter.py
class FundPortfolioAdapter:
    async def get_fund_portfolio(self, fund_code: str) -> pd.DataFrame:
        """è·å–åŸºé‡‘æŒä»“"""
        pass
    
    async def get_fund_holdings_change(self, fund_code: str, start_date: str, end_date: str) -> pd.DataFrame:
        """è·å–åŸºé‡‘æŒä»“å˜åŠ¨"""
        pass
```

### 2. æ–°å¢ API ç«¯ç‚¹

#### 2.1 äº‹ä»¶æ—¥å†ç«¯ç‚¹
```python
@app.get("/rpc/earnings/calendar")
async def get_earnings_calendar(
    market: str = Query(...),
    start_date: Optional[str] = Query(None),
    end_date: Optional[str] = Query(None)
) -> Dict[str, Any]:
    """è·å–è´¢æŠ¥æ—¥å†"""
    pass

@app.get("/rpc/earnings/forecast")
async def get_earnings_forecast(
    symbol: str = Query(...),
    period: Optional[str] = Query(None)
) -> Dict[str, Any]:
    """è·å–ä¸šç»©é¢„å‘Š"""
    pass
```

#### 2.2 è´¢åŠ¡æ•°æ®ç«¯ç‚¹
```python
@app.get("/rpc/financial/indicators")
async def get_financial_indicators(
    symbol: str = Query(...),
    period: str = Query("annual")
) -> Dict[str, Any]:
    """è·å–è´¢åŠ¡æŒ‡æ ‡"""
    pass

@app.get("/rpc/financial/statements")
async def get_financial_statements(
    symbol: str = Query(...),
    statement_type: str = Query(...),
    period: str = Query("annual")
) -> Dict[str, Any]:
    """è·å–è´¢åŠ¡æŠ¥è¡¨"""
    pass
```

#### 2.3 åŸºé‡‘æŒä»“ç«¯ç‚¹
```python
@app.get("/rpc/fund/portfolio")
async def get_fund_portfolio(
    fund_code: str = Query(...)
) -> Dict[str, Any]:
    """è·å–åŸºé‡‘æŒä»“"""
    pass

@app.get("/rpc/fund/holdings_change")
async def get_fund_holdings_change(
    fund_code: str = Query(...),
    start_date: str = Query(...),
    end_date: str = Query(...)
) -> Dict[str, Any]:
    """è·å–åŸºé‡‘æŒä»“å˜åŠ¨"""
    pass
```

### 3. æ•°æ®æ¨¡å‹è®¾è®¡

#### 3.1 äº‹ä»¶æ—¥å†æ¨¡å‹
```python
# src/ak_unified/schemas/events.py
class EarningsEvent(BaseModel):
    symbol: str
    company_name: Optional[str]
    report_period: str
    report_type: str  # annual, semi_annual, quarterly
    scheduled_date: Optional[datetime]
    actual_date: Optional[datetime]
    eps_estimate: Optional[float]
    eps_actual: Optional[float]
    revenue_estimate: Optional[float]
    revenue_actual: Optional[float]
    source: str
    market: str
    created_at: datetime
    updated_at: datetime

class EarningsForecast(BaseModel):
    symbol: str
    forecast_period: str
    forecast_type: str  # pre_increase, pre_decrease, turn_profit, etc.
    net_profit_change: Optional[float]
    change_reason: Optional[str]
    announcement_date: datetime
    source: str
    market: str
```

#### 3.2 è´¢åŠ¡æ•°æ®æ¨¡å‹
```python
# src/ak_unified/schemas/financial.py
class FinancialIndicator(BaseModel):
    symbol: str
    period: str
    indicator_name: str
    indicator_value: float
    unit: Optional[str]
    source: str
    market: str
    report_date: datetime

class FinancialStatement(BaseModel):
    symbol: str
    statement_type: str  # balance_sheet, income_statement, cash_flow
    period: str
    report_date: datetime
    data: Dict[str, Any]  # å…·ä½“çš„è´¢åŠ¡æ•°æ®
    source: str
    market: str
```

#### 3.3 åŸºé‡‘æŒä»“æ¨¡å‹
```python
# src/ak_unified/schemas/fund.py
class FundPortfolio(BaseModel):
    fund_code: str
    fund_name: str
    report_date: datetime
    total_assets: Optional[float]
    stock_holdings: List[StockHolding]
    source: str
    created_at: datetime

class StockHolding(BaseModel):
    symbol: str
    stock_name: str
    shares: int
    market_value: float
    percentage: float
    change_shares: Optional[int]
    change_percentage: Optional[float]
```

## ğŸš€ å®æ–½ä¼˜å…ˆçº§

### 1. ç¬¬ä¸€é˜¶æ®µï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
- [ ] è´¢æŠ¥æ—¥å†æ•°æ®è·å–ï¼ˆä¸œæ–¹è´¢å¯Œ + å·¨æ½®èµ„è®¯ç½‘ï¼‰
- [ ] åŸºç¡€è´¢åŠ¡æŒ‡æ ‡è·å–
- [ ] æ ¸å¿ƒ API ç«¯ç‚¹å®ç°

### 2. ç¬¬äºŒé˜¶æ®µï¼ˆæ‰©å±•åŠŸèƒ½ï¼‰
- [ ] ä¸šç»©é¢„å‘Šæ•°æ®è·å–
- [ ] æ¸¯è‚¡å’Œç¾è‚¡è´¢æŠ¥æ•°æ®
- [ ] åŸºé‡‘æŒä»“æ•°æ®è·å–

### 3. ç¬¬ä¸‰é˜¶æ®µï¼ˆé«˜çº§åŠŸèƒ½ï¼‰
- [ ] æ™ºèƒ½æé†’ç³»ç»Ÿ
- [ ] è´¢åŠ¡æŒ‡æ ‡è¶‹åŠ¿åˆ†æ
- [ ] åŸºé‡‘è°ƒä»“åˆ†æ
- [ ] å¤šæ•°æ®æºæ•°æ®èåˆ

## ğŸ“Š æ•°æ®è´¨é‡è¯„ä¼°

### 1. æ•°æ®å‡†ç¡®æ€§
- **ä¸œæ–¹è´¢å¯Œ**: â­â­â­â­â­ (å®˜æ–¹æ•°æ®ï¼Œå‡†ç¡®æ€§é«˜)
- **å·¨æ½®èµ„è®¯ç½‘**: â­â­â­â­â­ (å®˜æ–¹æŠ«éœ²ï¼Œæƒå¨æ€§æœ€é«˜)
- **æ–°æµªè´¢ç»**: â­â­â­â­ (æ•°æ®æ•´ç†è§„èŒƒ)
- **ç™¾åº¦è´¢ç»**: â­â­â­â­ (è´¢æŠ¥æ—¶é—´ä¿¡æ¯å‡†ç¡®)
- **Alpha Vantage**: â­â­â­â­ (æ•°æ®æ ‡å‡†åŒ–ç¨‹åº¦é«˜)
- **Yahoo Finance**: â­â­â­ (å…è´¹æ•°æ®ï¼Œè´¨é‡ä¸€èˆ¬)

### 2. æ•°æ®å®Œæ•´æ€§
- **ä¸œæ–¹è´¢å¯Œ**: â­â­â­â­â­ (è¦†ç›–å…¨é¢)
- **å·¨æ½®èµ„è®¯ç½‘**: â­â­â­â­â­ (å®˜æ–¹è¦æ±‚ï¼Œå®Œæ•´æ€§æœ€é«˜)
- **æ–°æµªè´¢ç»**: â­â­â­â­ (ä¸»è¦æŒ‡æ ‡è¦†ç›–)
- **ç™¾åº¦è´¢ç»**: â­â­â­â­ (è´¢æŠ¥æ—¶é—´è¦†ç›–å…¨é¢)
- **Alpha Vantage**: â­â­â­â­ (ç¾è‚¡æ•°æ®å®Œæ•´)
- **Yahoo Finance**: â­â­â­ (åŸºç¡€æ•°æ®å®Œæ•´)

### 3. æ›´æ–°åŠæ—¶æ€§
- **ä¸œæ–¹è´¢å¯Œ**: â­â­â­â­â­ (å®æ—¶æ›´æ–°)
- **å·¨æ½®èµ„è®¯ç½‘**: â­â­â­â­â­ (å®˜æ–¹å®æ—¶æŠ«éœ²)
- **æ–°æµªè´¢ç»**: â­â­â­â­ (æ›´æ–°åŠæ—¶)
- **ç™¾åº¦è´¢ç»**: â­â­â­â­ (è´¢æŠ¥æ—¶é—´æ›´æ–°åŠæ—¶)
- **Alpha Vantage**: â­â­â­â­ (API å®æ—¶)
- **Yahoo Finance**: â­â­â­ (æœ‰ä¸€å®šå»¶è¿Ÿ)

## ğŸ’¡ æŠ€æœ¯å»ºè®®

### 1. æ•°æ®æºé€‰æ‹©ç­–ç•¥
- **ä¸»è¦æ•°æ®æº**: ä¸œæ–¹è´¢å¯Œ + å·¨æ½®èµ„è®¯ç½‘ï¼ˆå›½å†…ï¼‰
- **è¾…åŠ©æ•°æ®æº**: ç™¾åº¦è´¢ç»ï¼ˆè´¢æŠ¥æ—¶é—´ï¼‰ã€Alpha Vantage + Yahoo Financeï¼ˆç¾è‚¡ï¼‰
- **å¤‡ç”¨æ•°æ®æº**: æ–°æµªè´¢ç»ã€åŒèŠ±é¡ºç­‰

### 2. ç¼“å­˜ç­–ç•¥
- **å®æ—¶æ•°æ®**: è´¢æŠ¥æ—¥å†ã€é‡è¦å…¬å‘Šï¼ˆç¼“å­˜æ—¶é—´çŸ­ï¼‰
- **å†å²æ•°æ®**: è´¢åŠ¡æŠ¥è¡¨ã€è´¢åŠ¡æŒ‡æ ‡ï¼ˆç¼“å­˜æ—¶é—´é•¿ï¼‰
- **ç¼“å­˜æ›´æ–°**: åŸºäºæ•°æ®æºæ›´æ–°é¢‘ç‡åŠ¨æ€è°ƒæ•´

### 3. é”™è¯¯å¤„ç†
- **é‡è¯•æœºåˆ¶**: ç½‘ç»œè¯·æ±‚å¤±è´¥è‡ªåŠ¨é‡è¯•
- **é™çº§ç­–ç•¥**: ä¸»è¦æ•°æ®æºå¤±è´¥æ—¶ä½¿ç”¨å¤‡ç”¨æ•°æ®æº
- **æ•°æ®éªŒè¯**: è·å–æ•°æ®åè¿›è¡Œæ ¼å¼å’Œé€»è¾‘éªŒè¯

## ğŸ“ æ€»ç»“

é€šè¿‡è°ƒç ”ï¼Œæˆ‘ä»¬ç¡®å®šäº†ä»¥ä¸‹å…³é”®æ•°æ®æºå’Œå®ç°æ–¹æ¡ˆï¼š

1. **äº‹ä»¶æ—¥å†**: ä»¥ä¸œæ–¹è´¢å¯Œã€å·¨æ½®èµ„è®¯ç½‘å’Œç™¾åº¦è´¢ç»ä¸ºä¸»è¦æ•°æ®æº
2. **è´¢æŠ¥æ•°æ®**: ç»“åˆå¤šä¸ªæ•°æ®æºï¼Œç¡®ä¿æ•°æ®å®Œæ•´æ€§å’Œå‡†ç¡®æ€§
3. **åŸºé‡‘æŒä»“**: ä»¥ä¸œæ–¹è´¢å¯Œä¸ºä¸»è¦æ•°æ®æºï¼Œè·å–åŸºé‡‘æŒä»“å’Œè°ƒä»“ä¿¡æ¯
4. **æŠ€æœ¯æ¶æ„**: é‡‡ç”¨åˆ†å±‚è®¾è®¡ï¼Œæ”¯æŒå¤šæ•°æ®æºé€‚é…
5. **å®æ–½è·¯å¾„**: åˆ†é˜¶æ®µå®æ–½ï¼Œä¼˜å…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½

è¿™ä¸ªæ–¹æ¡ˆå°†ä¸º AK Unified é¡¹ç›®æä¾›å…¨é¢çš„ä¸ªè‚¡äº‹ä»¶æ—¥å†ã€è´¢æŠ¥æ•°æ®å’ŒåŸºé‡‘æŒä»“ä¿¡æ¯æ”¯æŒï¼Œæ»¡è¶³ç”¨æˆ·å¯¹è´¢åŠ¡ä¿¡æ¯çš„å…¨é¢éœ€æ±‚ã€‚